(()=>{var s=class{siteID;referrer;agent;URL;constructor(t,r,i,a){this.siteID=t,this.referrer=r,this.agent=i,this.URL=a}buildTrackPayload(t,r){return{trackingData:{page:t,previousPage:r,agent:this.agent,referrer:this.referrer},siteID:this.siteID}}sendTrackingData(t){fetch(this.URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(r=>r.json()).then(r=>console.log("Success:",r)).catch(r=>console.error("Error:",r))}};((e,t)=>{console.log("Started script!");let r=t.currentScript?.dataset;if(r){if(!r.siteid){console.error("no data_siteid in script tag!");return}}else{console.error("no data_siteid in script tag!");return}if(e._tracker)console.log("Tracker already exists!");else{console.log("Creating Tracker object!");let a=t.referrer,n=e.navigator.userAgent,o="http://0.0.0.0:8080/track",c=r.siteid;e._tracker=new s(c,a,n,o),i(e,t)}function i(a,n){let o=a.location.pathname,c=n.referrer,g=a._tracker.buildTrackPayload(o,c);a._tracker.sendTrackingData(g),console.log("Payload send: ",g)}})(window,document);})();

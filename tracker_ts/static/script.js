(()=>{var i=class{siteID;referrer;agent;URL;constructor(e,r,s,t){this.siteID=e,this.referrer=r,this.agent=s,this.URL=t}buildTrackPayload(e,r){return{tracking:{page:e,previousPage:r,agent:this.agent,referrer:this.referrer},site_id:this.siteID}}sendTrackingData(e){fetch(this.URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(r=>r.json()).then(r=>console.log("Success:",r)).catch(r=>console.error("Error:",r))}};((a,e)=>{console.log("Started script!");let r=e.currentScript?.dataset;if(r){if(!r.siteid){console.error("no data_siteid in script tag!");return}}else{console.error("no data_siteid in script tag!");return}if(a._tracker)console.log("Tracker already exists!"),a._tracker=a._tracker,fetch("https://0.0.0.0:8080/track",{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>console.log("Success:",t)).catch(t=>console.error("Error:",t));else{console.log("Creating Tracker object!");let s=e.referrer,t=a.navigator.userAgent,o="https://0.0.0.0:8080/track",c=r.siteid;a._tracker=new i(c,s,t,o),fetch(o,{method:"GET",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>console.log("Success:",n)).catch(n=>console.error("Error:",n))}})(window,document);})();
